<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.11.1 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Structural models - The Stata Lasso Page</title>
<meta name="description" content="The Stata Lasso Page.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="The Stata Lasso Page">
<meta property="og:title" content="Structural models">
<meta property="og:url" content="http://localhost:4000/docs/pdslasso_models/">












  

  


<link rel="canonical" href="http://localhost:4000/docs/pdslasso_models/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Achim Ahrens",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="The Stata Lasso Page Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/">The Stata Lasso Page</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/" >Home</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/installation/" >Installation</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/slides/" >Slides</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/papers/" >Working paper</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/about/" >About</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/references/" >References</a>
            </li>
          
        </ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">lassopack</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/docs/lassopack/" class="">Overview</a></li>
          
            
            

            
            

            <li><a href="/docs/regularized_reg/" class="">Regularized regression</a></li>
          
            
            

            
            

            <li><a href="/docs/estimators/" class="">Estimation methods</a></li>
          
            
            

            
            

            <li><a href="/docs/lasso2/" class="">Getting started (lasso2)</a></li>
          
            
            

            
            

            <li><a href="/docs/cvlasso/" class="">Cross-validation (cvlasso)</a></li>
          
            
            

            
            

            <li><a href="/docs/rlasso/" class="">Rigorous lasso (rlasso)</a></li>
          
            
            

            
            

            <li><a href="/docs/lasso2_help/" class="">Help lasso2</a></li>
          
            
            

            
            

            <li><a href="/docs/cvlasso_help/" class="">Help cvlasso</a></li>
          
            
            

            
            

            <li><a href="/docs/rlasso_help/" class="">Help rlasso</a></li>
          
            
            

            
            

            <li><a href="/docs/lassopack_cite/" class="">Citation</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">pdslasso</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/docs/pdslasso/" class="">Overview</a></li>
          
            
            

            
            

            <li><a href="/docs/pdslasso_models/" class="active">Models</a></li>
          
            
            

            
            

            <li><a href="/docs/pdslasso_demo/" class="">Demonstration</a></li>
          
            
            

            
            

            <li><a href="/docs/ivlasso_help/" class="">Help file</a></li>
          
            
            

            
            

            <li><a href="/docs/pdslasso_cite/" class="">Citation</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">lassologit</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/docs/lassologit/" class="">Overview</a></li>
          
            
            

            
            

            <li><a href="/docs/lassologit_demo/" class="">Demonstration</a></li>
          
            
            

            
            

            <li><a href="/docs/lassologit_help/" class="">Help file</a></li>
          
            
            

            
            

            <li><a href="/docs/lassologit_cite/" class="">Citation</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Structural models">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Structural models
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On This Page</h4></header>
              <ul class="toc__menu">
  <li><a href="#many-instruments">Many instruments</a></li>
  <li><a href="#many-controls">Many controls</a></li>
  <li><a href="#many-controls-and-many-instruments">Many controls and many instruments</a></li>
</ul>
            </nav>
          </aside>
        
        <script type="text/javascript" async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<h2 id="many-instruments">Many instruments</h2>

<p>Belloni et al. (<a href="http://dx.doi.org/10.3982/ECTA9626">2012, Econometrica</a>) consider the model</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align*}
y_i &= \alpha d_i + \varepsilon_i\\
d_i &= z_i'\delta + u_i
\end{align*} %]]></script>

<p>where <script type="math/tex">y_i</script> is the dependent variable, <script type="math/tex">d_i</script> is an endogenous regressors and <script type="math/tex">z_i</script> is a <script type="math/tex">p_z</script>-dimensional vector of instruments. <script type="math/tex">p_z</script> is allowed to be large and may even exceed the sample size. We refer to <script type="math/tex">z_i</script> as high-dimensional. The interest lies in estimating the causal effect of endogenous variable <script type="math/tex">d_i</script> on the outcome variable 
<script type="math/tex">y_i</script>.</p>

<p>The choice and specification of instruments is crucial for the estimation of <script type="math/tex">\alpha</script>. However, 
often it is <em>a priori</em> not clear how to select or specify instruments. The situation of many instruments
can arise because there are simply many instruments available and/or because we need to consider a large
number of transformations of elementary variables to approximate the complex 
relationship between endogenous regressor <script type="math/tex">d_i</script> and instruments <script type="math/tex">z_i</script>.</p>

<p>Belloni et al. suggest to apply the lasso with theory-driven penalization to the equation <script type="math/tex">d_i = z_i'\delta + u_i</script>. Under the assumption of (approximate) sparsity, the rigorous lasso (or square-root lasso) can be applied to select appropriate instruments and to predict <script type="math/tex">d_i</script>. <script type="math/tex">\hat{d}_i=z_i'\hat\delta</script> is then used as a as estimate of the optimal instrument, where <script type="math/tex">\hat\delta</script> is either the lasso, square-root lasso, post-lasso or post square-root lasso estimator. Instrument selection using lasso and square-root lasso is implemented in <code class="highlighter-rouge">ivlasso</code>.</p>

<h2 id="many-controls">Many controls</h2>

<p>Next, we consider the case where <script type="math/tex">d_i</script> is exogenous, but there 
are many control variables.</p>

<script type="math/tex; mode=display">y_i = \alpha d_i + x_i'\beta + \varepsilon_i</script>

<p>In this setting, we allow the <script type="math/tex">p_x</script>-dimensional vector of controls, <script type="math/tex">x_i</script>
to be high-dimensional. 
The problem the researcher faces is that the “right” set of controls is not
known.  In traditional practice, this presents her with a difficult choice:  use too
few controls, or the wrong ones, and omitted variable bias will be present; use too
many, and the model will suffer from overfitting.</p>

<p>The <em>post-double-selection</em> (PDS) methodology introduced in Belloni, Chernozhukov and Hansen (<a href="https://doi.org/10.1093/restud/rdt044">2014</a>) uses the lasso estimator to select the controls.  Specifically,
the lasso is used twice:</p>

<ol>
  <li>
    <p>estimate a lasso regression with <script type="math/tex">y_i</script> as the dependent
variable and the control variables <script type="math/tex">x_i</script> as regressors;</p>
  </li>
  <li>
    <p>estimate a lasso regression with <script type="math/tex">d_i</script> as the dependent variable 
and again the control variables <script type="math/tex">x_i</script> as regressors. 
The lasso estimator achieves a sparse solution, i.e.,
most coefficients are set to zero.  The final choice of control variables to include
in the OLS regression of <script type="math/tex">y_i</script> on <script type="math/tex">d_i</script> is the union of the controls selected selected in
steps 1. and 2., hence the name <em>post-double selection</em> for the methodolgy.</p>
  </li>
</ol>

<p>The <em>post-regularization</em> or <em>CHS</em> methodology is closely related.  Instead of using the lasso-selected controls
 in a post-regularization OLS  estimation, the selected variables
are used to construct orthogonalized versions of the dependent variable and the
exogenous causal variables of interest.  The orthogonalized versions are based
either on the lasso or post-lasso estimated coefficients; the post-lasso is OLS
applied to lasso-selected variables.  See Chernozhukov, Hansen &amp; Spindler
 (<a href="http://www.aeaweb.org/articles.php?doi=10.1257/aer.p20151022">2015</a>) for details.</p>

<p>The <em>post-double-selection</em> and <em>post-regularization</em> approach
for many controls are implemented in <code class="highlighter-rouge">pdslasso</code>.</p>

<h2 id="many-controls-and-many-instruments">Many controls and many instruments</h2>

<p>Chernozhukov, Hansen &amp; Spindler (<a href="http://www.aeaweb.org/articles.php?doi=10.1257/aer.p20151022">2015</a>) 
also consider the case where we have both many instruments and many controls:</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align*}
y_i &= \alpha d_i +  x_i'\beta +\varepsilon_i\\
d_i &= x_i'\gamma + z_i'\delta + u_i
\end{align*} %]]></script>

<p>where <script type="math/tex">p_x\gg N</script> and/or <script type="math/tex">p_z\gg N</script> are allowed. The above model can be estimated using 
<code class="highlighter-rouge">ivlasso</code>, which allows for low and/or high-dimensional sets of instruments.</p>

<p><strong>To summarise</strong>, <code class="highlighter-rouge">ivlasso</code> and <code class="highlighter-rouge">pdslasso</code> implement methods for:</p>
<ul>
  <li>endogenous and/or exogenous regressors,</li>
  <li>low and high-dimensional instruments,</li>
  <li>low and high-dimensional control variables.</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>
    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
    
    
    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Achim Ahrens. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.9/js/all.js"></script>








  </body>
</html>