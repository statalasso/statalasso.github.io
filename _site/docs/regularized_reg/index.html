<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.11.1 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Regularized regression - The Stata Lasso Page</title>
<meta name="description" content="The Stata Lasso Page.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="The Stata Lasso Page">
<meta property="og:title" content="Regularized regression">
<meta property="og:url" content="http://localhost:4000/docs/regularized_reg/">












  

  


<link rel="canonical" href="http://localhost:4000/docs/regularized_reg/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Achim Ahrens",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="The Stata Lasso Page Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/">The Stata Lasso Page</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/" >Home</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/installation/" >Installation</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/slides/" >Slides</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/papers/" >Working paper</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/about/" >About</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="http://localhost:4000/references/" >References</a>
            </li>
          
        </ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">lassopack</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/docs/lassopack/" class="">Overview</a></li>
          
            
            

            
            

            <li><a href="/docs/regularized_reg/" class="active">Regularized regression</a></li>
          
            
            

            
            

            <li><a href="/docs/estimators/" class="">Estimation methods</a></li>
          
            
            

            
            

            <li><a href="/docs/lasso2/" class="">Getting started (lasso2)</a></li>
          
            
            

            
            

            <li><a href="/docs/cvlasso/" class="">Cross-validation (cvlasso)</a></li>
          
            
            

            
            

            <li><a href="/docs/rlasso/" class="">Rigorous lasso (rlasso)</a></li>
          
            
            

            
            

            <li><a href="/docs/lasso2_help/" class="">Help lasso2</a></li>
          
            
            

            
            

            <li><a href="/docs/cvlasso_help/" class="">Help cvlasso</a></li>
          
            
            

            
            

            <li><a href="/docs/rlasso_help/" class="">Help rlasso</a></li>
          
            
            

            
            

            <li><a href="/docs/lassopack_cite/" class="">Citation</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">pdslasso</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/docs/pdslasso/" class="">Overview</a></li>
          
            
            

            
            

            <li><a href="/docs/pdslasso_models/" class="">Models</a></li>
          
            
            

            
            

            <li><a href="/docs/pdslasso_demo/" class="">Demonstration</a></li>
          
            
            

            
            

            <li><a href="/docs/ivlasso_help/" class="">Help file</a></li>
          
            
            

            
            

            <li><a href="/docs/pdslasso_cite/" class="">Citation</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">lassologit</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/docs/lassologit/" class="">Overview</a></li>
          
            
            

            
            

            <li><a href="/docs/lassologit_demo/" class="">Demonstration</a></li>
          
            
            

            
            

            <li><a href="/docs/lassologit_help/" class="">Help file</a></li>
          
            
            

            
            

            <li><a href="/docs/lassologit_cite/" class="">Citation</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Regularized regression">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Regularized regression
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <script type="text/javascript" async="" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<p><code class="highlighter-rouge">lasso2</code> solves the elastic net problem</p>

<script type="math/tex; mode=display">\frac{1}{N} (y_i - x_i'\beta)^2 + \frac{\lambda}{N} \alpha ||\Psi\beta ||_1 + 	\frac{\lambda}{2N}(1-\alpha)||\Psi\beta||_2</script>

<p>where</p>
<ul>
  <li><script type="math/tex">(y_i - x_i'\beta)^2</script> is the residual sum of squares (RSS),</li>
  <li><script type="math/tex">\beta</script> is a <script type="math/tex">p</script>-dimensional parameter vector,</li>
  <li><script type="math/tex">\lambda</script> is the overall penalty level, which controls the general degree of penalization,</li>
  <li><script type="math/tex">\alpha</script> is the elastic net parameter, which determines the relative contribution of <script type="math/tex">\ell_1</script> (lasso-type) to <script type="math/tex">\ell_2</script>  (ridge-type) penalization. <script type="math/tex">\alpha=1</script> corresponds to the lasso; <script type="math/tex">\alpha=0</script> is ridge regression.</li>
  <li><script type="math/tex">\Psi</script> is a <script type="math/tex">p</script> by <script type="math/tex">p</script> diagonal matrix of predictor-specific penalty loadings.</li>
  <li><script type="math/tex">N</script> is the number of observations</li>
</ul>

<p>In addition, <code class="highlighter-rouge">lasso2</code> estimates the square-root lasso (sqrt-lasso) estimator,
which is defined as the solution to the following objective function:</p>

<script type="math/tex; mode=display">\sqrt{\frac{1}{N} (y_i - x_i'\beta)^2} + \frac{\lambda}{N} \alpha ||\Psi\beta ||_1</script>

<p><code class="highlighter-rouge">lasso2</code> implements the elastic net and sqrt-lasso using coordinate descent algorithms.  The algorithm (then
referred to as “shooting”) was first proposed by <a href="https://doi.org/10.2307/1390712">Fu (1998)</a> for the lasso, and by <a href="http://hdl.handle.net/1887/12096">Van der Kooij (2007)</a> for the elastic net.  <a href="https://doi.org/10.1093/biomet/asr043">Belloni et al. (2011)</a> implement the coordinate descent for the sqrt-lasso, and have kindly provided  Matlab code.</p>

<p>Penalized regression methods, such as the elastic net and the sqrt-lasso, rely on tuning parameters that control
the degree and type of penalization.  The estimation methods implemented in <code class="highlighter-rouge">lasso2</code> use two tuning parameters:
<script type="math/tex">\lambda</script> and <script type="math/tex">\alpha</script>.  </p>

<h2 id="how-to-select-the-tuning-parameters">How to select the tuning parameters</h2>

<p><strong>lassopack</strong> offers three approaches for selecting the “optimal” <script type="math/tex">\lambda</script> and <script type="math/tex">\alpha</script> value, which are implemented in <code class="highlighter-rouge">lasso2</code>, <code class="highlighter-rouge">cvlasso</code> and <code class="highlighter-rouge">rlasso</code>, respectively.</p>

<ol>
  <li><em>Cross-validation:</em> The penalty level <script type="math/tex">\lambda</script> may be chosen by cross-validation in order to optimize out-of-sample prediction
 performance.  <script type="math/tex">K</script>-fold cross-validation and rolling cross-validation (for panel and time-series data) are
 implemented in cvlasso.  <code class="highlighter-rouge">cvlasso</code> also supports cross-validation across <script type="math/tex">\alpha</script>.</li>
  <li><em>Theory-driven:</em> Theoretically justified and feasible penalty levels and loadings are available for the lasso and sqrt-lasso via the separate command <code class="highlighter-rouge">rlasso</code>.  The penalization is chosen to dominate the noise of the data-generating process
 (represented by the score vector), which allows derivation of theoretical results with regard to consistent
 prediction and parameter estimation.  Since the error variance is in practice unknown, Belloni et al. (<a href="https://doi.org/10.3982/ECTA9626">2012</a>)
 introduce the rigorous (or feasible) lasso that relies on an iterative algorithm for estimating the optimal
 penalization and is valid in the presence of non-Gaussian and heteroskedastic errors.  Belloni et al. (<a href="https://doi.org/10.1080/07350015.2015.1102733">2016</a>) extend the framework to the panel data setting.  In the case of the sqrt-lasso under homoskedasticity, the optimal penalty level is independent of the unknown error variance, leading to a practical advantage and better performance in finite samples (see Belloni et al., <a href="https://doi.org/10.1214/14-AOS1204">2011</a>, <a href="https://doi.org/10.1093/restud/rdt044">2014</a>).</li>
  <li><em>Information criteria:</em> <script type="math/tex">\lambda</script> can also be selected using information criteria.  <code class="highlighter-rouge">lasso2</code> calculates four information criteria:  Akaike
 Information Criterion (AIC; <a href="https://doi.org/10.1109/TAC.1974.1100705">Akaike, 1974</a>), Bayesian Information Criterion (BIC; <a href="https://doi.org/10.1214/aos/1176344136">Schwarz, 1978</a>), Extended Bayesian
 information criterion (EBIC; <a href="https://doi.org/10.1093/biomet/asn034">Chen &amp; Chen, 2008</a>) and the corrected AIC (AICc; <a href="http://doi.org/10.1080/03610927808827599">Sugiura, 1978</a>, and <a href="http://doi.org/10.1093/biomet/76.2.297">Hurvich, 1989</a>).</li>
</ol>


        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>
    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
    
    
    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2019 Achim Ahrens. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.9/js/all.js"></script>








  </body>
</html>